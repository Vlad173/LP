#№ Отчет по лабораторной работе №4
## по курсу "Логическое программирование"

## Обработка естественного языка

### студент: Епанешников В.С.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |    4          |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*
Выписать грамматику запросов (в явном виде).

## Введение

Язык логического программирования пролог идеально подходит для обработки естественного языка , если мы знаем структуру предложений. Так как с помощью этого мы можем написать алгоритм парсинга предложений. Задача грамматического разбора и анализа естественных и искусственных языков является одной из самых распространенных задач, решаемых языками логического программирования. Грамматика языка – свойство того или иного языка, почти все алгоритмы обработки языков основаны на грамматиках и именно в зависимости от типа грамматики выбирается и способ обработки языка – так для регулярных автоматик применяется метод конечных автоматов, для контекстно-свободной – строится дерево грамматического разбора и т.д. Язык Пролог хорош для обработки языка тем, что в нем довольно легко сопоставлять различные состояния и правила, можно с легкостью находить различные паттерны, анализировать и редактировать текст.

## Задание

Реализовать разбор фраз языка (вопросов), выделяя в них неизвестный объекты.
```prolog
?-an_q(['Кто', 'любит', 'шоколад', '?'], X).
X=любить(agent(y), object(шоколад)).
```

## Принцип решения

Сначала был создан словарь: список слов объектов и агентов и сведения о глаголах (инфинитивы).
```prolog
:-op(200, xfy, ':').

objects(['шоколад', 'деньги', 'мяч', 'cтихи', 'книга']).

agents(['Даша', 'Маша', 'медведь', 'Саша']).

verbs(File) :- File = 
    ['любить' : ['любит', 'любят'],
    'лежать' : ['лежат', 'лежит'],
    'жить' : ['живёт', 'живут'],
    'спать' : ['спит', 'спят'],
    'сдать' : ['сдал', 'сдали']].
``` 
Далее реализован предикат поиска инфинитифа для глагола.

```prolog
find(V, Inf) :-
    verbs(File),
    member(M, File), conditional(V, Inf, M).

conditional(V, Inf, Inf : Y) :-
    member(V, Y).
``` 
И, наконец, главный предикат, который в зависимости от вопросительного слова выдаёт ответ.
```prolog
an_q(['Где', V, N, _], X) :- 
    find(V, Inf),
    objects(List),
    member(N, List),
    X=..[Inf, object(N), loc(x)].

an_q(['Где', V, N, _], X) :- 
    find(V, Inf),
    agents(List),
    member(N, List),
    X=..[Inf, agent(N), loc(x)].

an_q(['Кто', V, N, _], X) :- 
    find(V, Inf),
    X=..[Inf, agent(y), object(N)].

an_q(['Что', V, N, _], X) :- 
    find(V, Inf),
    agents(List),
    member(N, List),
    X=..[Inf, agent(N), object(y)].
``` 

## Результаты

```prolog
?- an_q(['Кто', 'любит', 'шоколад', '?'], X). X = любить(agent(y), object(шоколад)) ;
false.

?- an_q(['Где', 'лежат', 'деньги', '?'], X). X = лежать(object(деньги), loc(x)) ;
false.

?- an_q(['Что', 'любит', 'Даша', '?'], X). X = любить(agent('Даша'), object(y)) ;
false.

?- an_q(['Где', 'живёт', 'Маша', '?'], X). X = жить(agent('Маша'), loc(x)) ;
false.
``` 

## Выводы

В ходе проделанной лабораторной работы я получил навык работы с методами анализа естественно-языковых текстов. Язык программирования Prolog – хороший инструмент для грамматического разбора предложений. Он предлагает совершенно иные возможности для написания программ, нежели другие императивные и функциональные языки программирования.
Это обусловлено тем, что при работе с грамматикой мы разбиваем каждый элемент исходного выражения или выссказывания на части, каждую из которых легко идентифицировать.




